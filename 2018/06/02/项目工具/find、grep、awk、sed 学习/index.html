<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="野渡 的博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.1">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://WenDeng.github.io">
    <!--SEO-->

    <meta name="keywords" content="技术">


    <meta name="description" content="本文主要是总结了一下常见的文本操作命令，并进行了实践。
1、find命令find主要用于查找文件。
12345678910111213find /home/ -name " text.txt" ...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>find、grep、awk、sed 学习 | 野渡 的博客</title>


    <link rel="alternate" href="/atom.xml" title="野渡 的博客" type="application/atom+xml">


    



<link rel="stylesheet" href="../../../../../css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="../../../../../css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="../../../../../css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>





	<script>
		(function(i, s, o, g, r, a, m) {
		    i['GoogleAnalyticsObject'] = r;
		    i[r] = i[r] || function() {
		        (i[r].q = i[r].q || []).push(arguments)
		    }, i[r].l = 1 * new Date();
		    a = s.createElement(o),
		    m = s.getElementsByTagName(o)[0];
		    a.async = 1;
		    a.src = g;
		    m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
		ga('create', 'UA-140405612-1', 'auto');
		ga('send', 'pageview');
	</script>


    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header" style="background-image:url(../../../../../banner.jpg)">
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="野渡">
            <img src="../../../../../img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,野渡 的博客</h2>-->
            
                <h2> 野渡&#39;s小小知识乐园 </h2>
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://WenDeng.github.io">野渡 的博客</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/技术/"><i class="fa "></i>技术</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/生活/"><i class="fa "></i>生活</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/bookandmovie/"><i class="fa "></i>书与电影</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="find、grep、awk、sed 学习">
            
	            find、grep、awk、sed 学习
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="../../../../../categories/项目工具/">项目工具</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="../../../../../tags/技术/">技术</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/06/02</span>
        </span>
        
            <span class="fa-wrap">
                <i class="fa fa-eye"></i>
                <span id="busuanzi_value_page_pv"></span>
            </span>
        
    
</div>
            
            
    </div>
    
    <div class="post-body post-content">
        <p>本文主要是总结了一下常见的文本操作命令，并进行了实践。<br><a id="more"></a></p>
<h3 id="1、find命令"><a href="#1、find命令" class="headerlink" title="1、find命令"></a>1、find命令</h3><p>find主要用于查找文件。</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> /home/ -<span class="built_in">name</span> <span class="string">"text.txt"</span> <span class="comment">//寻找名为text.txt的文件，会输出所有文件及其路径名。</span></span><br><span class="line"><span class="built_in">find</span> /home/ -<span class="built_in">name</span> <span class="string">"*.txt"</span>   <span class="comment">//查找home目录下所有的.txt 字符串结尾的文件。</span></span><br><span class="line"><span class="built_in">find</span> /home/ -<span class="built_in">name</span> <span class="string">"text.txt"</span> | more <span class="comment">//当显示的内容太多时，可以加上管道符more 进行分页查看 ，space就是翻页，enter就是下一行。</span></span><br><span class="line"></span><br><span class="line">因为显示出来的既会包含文件，也会包含目录，所以要区分，通过-<span class="built_in">type</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">find</span> /home/ -<span class="built_in">name</span> <span class="string">"*.txt"</span> -<span class="built_in">type</span> d  <span class="comment">//这个显示出来的都是目录directory</span></span><br><span class="line"><span class="built_in">find</span> /home/ -<span class="built_in">name</span> <span class="string">"*.txt"</span> -<span class="built_in">type</span> f  <span class="comment">//这个显示出来的都是文件file</span></span><br><span class="line"><span class="built_in">find</span> . <span class="string">"*.txt"</span> -<span class="built_in">type</span> f  <span class="comment">//用.来表示相对路径，在当前目录下寻找。</span></span><br><span class="line"><span class="built_in">find</span> . <span class="string">"*.txt"</span> -<span class="built_in">type</span> f -mtime +<span class="number">30</span>  <span class="comment">//30天之前修改的文件</span></span><br><span class="line"><span class="built_in">find</span> . <span class="string">"*.txt"</span> -<span class="built_in">type</span> f -mtime -<span class="number">1</span> <span class="comment">//1天内修改的文件</span></span><br><span class="line"><span class="built_in">find</span> . <span class="string">"*.txt"</span> -<span class="built_in">type</span> f -mtime -<span class="number">1</span> |xargs rm -rf &#123;&#125; \ <span class="comment">//将find出来的内容替换到rm -rf后的大括号，通过xargs管道符进行连接。 这样的话就把find出来的文件全部删除了。</span></span><br><span class="line"><span class="built_in">find</span> . <span class="string">"*.txt"</span> -<span class="built_in">type</span> f -mtime -<span class="number">1</span> -<span class="built_in">exec</span> cp -r &#123;&#125; \tmp\ \  <span class="comment">// 把find出来的文件拷贝到\tmp\目录下。cp的-r：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>xargs:  只支持rm<br>exec:  支持 cp,mv,chmod,chown</p>
</blockquote>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> . <span class="string">"*.txt"</span> -<span class="built_in">type</span> f -mtime -<span class="number">1</span> -<span class="built_in">size</span> +<span class="number">1</span>k   <span class="comment">//修改时间在一天内，同时大小大于1k的才会显示出来。千字节要小写k，兆要大写M。</span></span><br><span class="line"><span class="built_in">find</span> . <span class="string">"*.txt"</span> -<span class="built_in">type</span> f -mtime -<span class="number">1</span> -<span class="built_in">size</span> +<span class="number">1</span>k -perm <span class="number">755</span> <span class="comment">//加上权限为755的限制</span></span><br><span class="line"><span class="built_in">find</span> . -<span class="built_in">type</span> f <span class="string">"*.log"</span> -mtime +<span class="number">30</span> -<span class="built_in">exec</span> rm -rf &#123;&#125; \  <span class="comment">//删除服务器30天之前的日志</span></span><br><span class="line"><span class="built_in">find</span> . -<span class="built_in">type</span> f -<span class="built_in">exec</span> chmod -R <span class="number">644</span> &#123;&#125; \  <span class="comment">//在当前目录下把所有文件的权限改为644</span></span><br></pre></td></tr></table></figure>
<p>关于文件目录权限的基础知识普及：<br><img src="https://pic4.zhimg.com/v2-8c1176b648cab2dc138e19aea200cc0b_b.jpg" alt></p>
<h3 id="2、grep命令"><a href="#2、grep命令" class="headerlink" title="2、grep命令"></a>2、grep命令</h3><p>grep本意为过滤查询的意思,主要用于查找文件里的内容。</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">"root"</span> <span class="string">/etc/passwd</span>   <span class="string">//</span>查询passwd文件里带有root字符串的行</span><br><span class="line">grep <span class="params">--color</span> <span class="string">"root"</span> <span class="string">/etc/passwd</span>    <span class="string">//</span>把显示出来的root用颜色标记。</span><br><span class="line">grep -n <span class="params">--color</span> <span class="string">"root"</span> <span class="string">/etc/passwd</span>  <span class="string">//</span>再加上行号显示。</span><br><span class="line">grep -n <span class="params">--color</span> <span class="string">"^root"</span> <span class="string">/etc/passwd</span> <span class="string">//</span>找以root开头的行，就是在root前面加个尖括号。</span><br><span class="line">grep -n <span class="params">--color</span> <span class="string">"root$"</span> <span class="string">/etc/passwd</span>  <span class="string">//</span>以root结尾的那一行</span><br><span class="line">grep <span class="string">"#"</span> <span class="string">/nginx.conf.default</span> <span class="string">//</span>只显示带有<span class="comment">#号的行。</span></span><br><span class="line">grep -v <span class="string">"#"</span> <span class="string">/nginx.conf.default</span> <span class="string">//</span>把不包含<span class="comment">#号的行显示出来,加了个-v</span></span><br><span class="line">grep -v <span class="string">"#"</span> <span class="string">/nginx.conf.default</span> | grep -v <span class="string">"^$"</span> <span class="string">//</span>先去掉注释行，然后去掉空行</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意参数： -i 是忽略大小写； -n是输出行号； -v是反向选择</p>
</blockquote>
<p>下面要匹配一个IP地址： 主要是grep匹配正则表达式。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">grep --<span class="attribute">color</span> "<span class="selector-attr">[0-9]</span><span class="selector-attr">[0-9]</span>" text<span class="selector-class">.txt</span>  <span class="comment">//匹配连续的数字，并加颜色显示</span></span><br><span class="line">egrep --<span class="attribute">color</span> "<span class="selector-attr">[0-9]</span>&#123;1&#125;" text<span class="selector-class">.txt</span> <span class="comment">//匹配一个数字。</span></span><br><span class="line">egrep --<span class="attribute">color</span> "<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\." text<span class="selector-class">.txt</span> <span class="comment">//匹配1到3个连续数字加上 "." ,这里注意加上转义符 \ 。如果没有转义符，一个“.”代表任意字符。</span></span><br><span class="line">egrep --<span class="attribute">color</span> "<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\.<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\.<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\.<span class="selector-attr">[0-9]</span>&#123;1，3&#125;" text<span class="selector-class">.txt</span> <span class="comment">//这样就匹配了IP的4部分了，但是后面如果有多的数字的话也会匹配进来</span></span><br><span class="line">egrep --<span class="attribute">color</span> "<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\.<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\.<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\.<span class="selector-attr">[0-9]</span>&#123;1，3&#125;$" text<span class="selector-class">.txt</span> <span class="comment">//后面加上通配符$，表示以什么结尾，这样就会把后面有多余的排除掉。</span></span><br><span class="line">egrep --<span class="attribute">color</span> "(<span class="selector-attr">[0-9]</span>&#123;1，3&#125;\.)&#123;3&#125;<span class="selector-attr">[0-9]</span>&#123;1，3&#125;$" text<span class="selector-class">.txt</span> <span class="comment">//这样加个小括号括起来就可以省略掉很多字符串了，大括号表示匹配的次数。</span></span><br></pre></td></tr></table></figure></p>
<p><img src="https://pic3.zhimg.com/v2-af23da0b2d45588fcdeaf3a5c101e096_b.jpg" alt></p>
<h3 id="3、awk命令"><a href="#3、awk命令" class="headerlink" title="3、awk命令"></a>3、awk命令</h3><p>awk主要用于数据统计，日志分析：<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk '&#123;<span class="keyword">print</span> <span class="variable">$1&#125;</span>' /etc/passwd | <span class="keyword">more</span>   <span class="comment">//把文件的第一列打出来</span></span><br></pre></td></tr></table></figure></p>
<p>这里要<strong>理解一列的意思，列是以空格作为分隔，没有空格，即使换行也是一列</strong>。比如：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -<span class="keyword">ant</span> 查看tcp连接</span><br></pre></td></tr></table></figure></p>
<p><img src="https://pic4.zhimg.com/v2-714df6e7c83da86974972091da38875f_b.jpg" alt></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ant | awk <span class="string">'&#123;print <span class="subst">$6</span>&#125;'</span> <span class="comment">//即把第六列输出</span></span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<p><img src="https://pic1.zhimg.com/v2-43d2e5c2b2489352ddfcc2a030acfd2c_b.jpg" alt></p>
<p>大家注意列的概念。再比如说： 如下，想把每列的开始的用户名取出来。<br><img src="https://pic3.zhimg.com/v2-bb85b4426ad5a73550ba866c8c7bcdaa_b.png" alt></p>
<p>这里采取的措施是把用户名后面的冒号去掉，就变成了列分隔了。如下：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk -F: <span class="string">'&#123;print $1&#125;'</span> <span class="regexp">/etc/</span>passwd | head -<span class="number">5</span>  <span class="regexp">//</span>-F:即-F把后面的:换成<span class="string">" "</span>。head -<span class="number">5</span>取前<span class="number">5</span>行</span><br><span class="line">aawk -F: <span class="string">'&#123;print $1":"$NF&#125;'</span> <span class="regexp">/etc/</span>passwd | head -<span class="number">5</span>   <span class="regexp">//</span><span class="variable">$NF</span>则是最后一列。即只输出第一列和最后一列。</span><br></pre></td></tr></table></figure></p>
<p><img src="https://pic4.zhimg.com/v2-25fda2d24e29813460d23c07d18d2ce3_b.jpg" alt><br><img src="https://pic3.zhimg.com/v2-cc3a71211037db4f15814045f9a5dede_b.png" alt></p>
<p><strong>双引号在awk里面是添加的意思</strong>，这样就在第一列和最后一列中间加上了冒号。这里可以添加任意字符。</p>
<p>现在进行一个简单的实例：比如ifconfig得到网卡信息如下：</p>
<p><img src="https://pic2.zhimg.com/v2-26fa17f1404ccb8c4229c581781dde7d_b.jpg" alt></p>
<p><strong>然后想要把ip地址192.168.1.244输出并且变为 192-169-1-244</strong></p>
<p>第一步：</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig <span class="string">| grep "</span>inet<span class="string">"</span></span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-e5569174feb22b11b35c4fa89fca2fe5_b.png" alt></p>
<p>然后把第一个和第三个去掉<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig | <span class="type">grep</span> <span class="string">"inet"</span>| <span class="type">grep</span> -v <span class="string">"127"</span> |<span class="type">grep</span> -v <span class="string">"0.0.0.0"</span></span><br></pre></td></tr></table></figure></p>
<p><img src="https://pic3.zhimg.com/v2-5c140f1052fa2322ffc76ff525d6b0a6_b.png" alt></p>
<p>然后这里要区分出有几列，很明显，有4列。然后取出第二列。<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig | <span class="type">grep</span> <span class="string">"inet"</span>| <span class="type">grep</span> -v <span class="string">"127"</span> |<span class="type">grep</span> -v <span class="string">"0.0.0.0"</span> | <span class="type">awk</span> '&#123;print $<span class="number">2</span>&#125;'</span><br></pre></td></tr></table></figure></p>
<p><img src="https://pic1.zhimg.com/v2-6e67847e1412b653c4dc3f8270a0bda0_b.png" alt></p>
<p>然后转换格式：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig | grep <span class="string">"inet"</span>| grep -v <span class="string">"127"</span> |grep -v <span class="string">"0.0.0.0"</span> | awk '&#123;<span class="keyword">print</span> <span class="variable">$2&#125;</span>' | awk -F. '&#123;<span class="keyword">print</span> <span class="variable">$1</span><span class="string">"-"</span><span class="variable">$2</span><span class="string">"-"</span><span class="variable">$3</span><span class="string">"-"</span><span class="variable">$4&#125;</span>'</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-3d8f932a65e3be34b16b26e3f4f21243_b.png" alt></p>
<p>把前面输出的东西当作主机名：也就是   hostname  `名称`</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostname  `  ifconfig | grep <span class="string">"inet"</span>| grep -v <span class="string">"127"</span> |grep -v <span class="string">"0.0.0.0"</span> | awk '&#123;<span class="keyword">print</span> <span class="variable">$2&#125;</span>' | awk -F. '&#123;<span class="keyword">print</span> <span class="variable">$1</span><span class="string">"-"</span><span class="variable">$2</span><span class="string">"-"</span><span class="variable">$3</span><span class="string">"-"</span><span class="variable">$4&#125;</span>'  `</span><br></pre></td></tr></table></figure>
<p>注意，这里有个<strong>反引号在外面包裹</strong>，这个符号在esc下面的地方，我的是和 ~ 在一起的。</p>
<h3 id="4、sed命令"><a href="#4、sed命令" class="headerlink" title="4、sed命令"></a>4、sed命令</h3><p>sed主要用于获取文件内容并修改显示，先是初始文件：</p>
<p><img src="https://pic2.zhimg.com/v2-70aec7aaa45221cca4974bdc0e05fa9d_b.jpg" alt></p>
<p>然后是我们的操作： </p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'s/jackhe/xiaohong/'</span> <span class="selector-tag">a</span><span class="selector-class">.txt</span>  <span class="comment">//单引号后面的s表示字符串替换，即把jackhe替换为xiaohong.</span></span><br></pre></td></tr></table></figure>
<p>最开始的  这里注意是有3个斜杠，而且它只是把文件的输出进行替换，并不进行文件的修改。</p>
<p><img src="https://pic4.zhimg.com/v2-0058420a1b0ce8dbd237a791f68916e3_b.jpg" alt></p>
<p>但是上面的只会把第一个出现的修改，而如果需要修改后面的则需要如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'s/jackhe/xiaohong/2'</span> <span class="selector-tag">a</span><span class="selector-class">.txt</span>  <span class="comment">//这是修改第二个。</span></span><br><span class="line">sed <span class="string">'s/jackhe/xiaohong/g'</span> <span class="selector-tag">a</span><span class="selector-class">.txt</span>  <span class="comment">//g是全部替换</span></span><br><span class="line">sed <span class="string">'s#jackhe#xiaohong#g'</span> <span class="selector-tag">a</span><span class="selector-class">.txt</span>  <span class="comment">//把斜杠改为井号也是可以的，这只是一个格式。</span></span><br><span class="line">sed <span class="string">'s#jackhe#xiao///.hong#g'</span> <span class="selector-tag">a</span><span class="selector-class">.txt</span> <span class="comment">//也是可以的，这样#里面的都会变成字符处理。如果不是#号包裹，而是/，那么里面的/就需要进行转义，即 \/\/\/了</span></span><br><span class="line"></span><br><span class="line">sed -<span class="selector-tag">i</span> <span class="string">'s#jackhe#xiaohong#g'</span> <span class="selector-tag">a</span><span class="selector-class">.txt</span> <span class="comment">//如果要**真正的修改文件内容，那么就要加上个-i选项**。</span></span><br></pre></td></tr></table></figure></p>
<p><strong>如果sed里面有变量，则必须要用双引号了</strong>，不能使用单引号。</p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href target="_blank">野渡</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="../../../16/项目工具/git基本命令详解/" class="pre-post btn btn-default" title="Git基本命令详解">
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">Git基本命令详解</span>
        </a>
    
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="../../../../../assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'xOKV9J4UeQAtVkvnJC7Kq2Jn-gzGzoHsz',
            appKey: 'erIpQac4azoCmgfBB7Dl9maa',
            placeholder: '说点什么吧',
            notify: false,
            verify: false,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、find命令"><span class="toc-text">1、find命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、grep命令"><span class="toc-text">2、grep命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、awk命令"><span class="toc-text">3、awk命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、sed命令"><span class="toc-text">4、sed命令</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
        访问量:
        <strong id="busuanzi_value_site_pv">
            <i class="fa fa-spinner fa-spin"></i>
        </strong>
        &nbsp; | &nbsp;
        访客数:
        <strong id="busuanzi_value_site_uv">
            <i class="fa fa-spinner fa-spin"></i>
        </strong>
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>




    <script src="../../../../../assets/tagcanvas.min.js?rev=2.9"></script>
    <script>
        var tagOption = {
            textColour: '#444', // 字体颜色
            outlineMethod: 'block', // 选中模式
            outlineColour: '#FFDAB9', // 选中模式的颜色
            interval: 30 || 30, // 动画帧之间的时间间隔，值越大，转动幅度越大
            textHeight: 13,
            outlineRadius: 3,
            freezeActive: true || '', // 选中的标签是否继续滚动
            frontSelect: true || '', // 不选标签云后部的标签
            initial: [0.1, -0.1],
            depth: 0.5,
            decel: 0.95,
            maxSpeed: 0.03,
            reverse: true || '', // 是否反向触发
            fadeIn: 500, // 进入动画时间
            wheelZoom: false || '' // 是否启用鼠标滚轮
        }
        TagCanvas.Start('tag-cloud-3d','',tagOption);
    </script>



    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<script src="../../../../../js/app.js?rev=@@hash"></script>

</body>
</html>